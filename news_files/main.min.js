if(window.hasOwnProperty("Zepto")){window.jQuery=Zepto}function checkCrossDomain(e){var t=window.location.host;var n=window.location.protocol;var r=document.createElement("a");r.href=e;return!(r.host==t&&r.protocol==n)}function objectValues(e){return Object.keys(e).map(function(t){return e[t]})}function httpBuildQuery(e){if(typeof e==="string"){return e}else if(typeof e==="object"){var t=[];for(var n in e){t.push(n+"="+encodeURIComponent(e[n]))}return t.join("&")}}function appendUrlParams(){var e=arguments[0];for(var t=1;t<=arguments.length;t++){var n=httpBuildQuery(arguments[t]);if(n){e+=(e.indexOf("?")>1?"&":"?")+n}}return e}var _jsonpCallbackNumber=parseInt(Math.random()*1e5);function asyncSendAction(e,t,n,r,a){var o=checkCrossDomain(e);var i={before:function(){r&&$("#loading").show()},success:function(t,r){var a=r instanceof XMLHttpRequest;var o=t;if(typeof o==="string"){try{o=JSON.parse(o)}catch(i){reportFrontendError({errorType:"ajax parse json error",location:location.href,url:e,method:n?"POST":"GET",response:t,error:i.message,status:a?r.status:"jsonp",header:a?r.getAllResponseHeaders():"jsonp"});this.error("JSON响应解析失败!");return}}if(typeof o==="object"){this.triggerCallback(o)}else{reportFrontendError({errorType:"ajax wrong object type",location:location.href,url:e,method:n?"POST":"GET",currentType:typeof o,response:t,status:a?r.status:"jsonp",header:a?r.getAllResponseHeaders():"jsonp"});this.error("响应内容格式无法解析")}},error:function(e){var t=typeof e==="string"?e:"操作处理失败，请重试！";var n={code:-999,msg:t,html:null,data:null};this.triggerCallback(n)},triggerCallback:function(e){if(typeof a==="function"){a(e)}},complete:function(){r&&$("#loading").hide()}};if(o){var s="jsonp"+_jsonpCallbackNumber++;window[s]=function(e){i.success(e);delete window[s];document.head.removeChild(c)};var c=document.createElement("script");c.addEventListener("load",function(){i.complete()});c.addEventListener("error",function(){i.error();i.complete()});c.src=appendUrlParams(e,{__method:n?"POST":"GET",__random:Math.random(),__callback:s},t);i.before();document.head.appendChild(c)}else{var l=new XMLHttpRequest;l.onreadystatechange=function(){if(this.readyState===1){i.before()}else if(this.readyState===4){if(this.status>0){i.success(this.responseText,this);i.complete()}}};function u(){l.setRequestHeader("X-Requested-With","XMLHttpRequest");l.setRequestHeader("Accept","application/json")}if(n){var f=appendUrlParams(e,{__random:Math.random()});l.open("POST",f,true);u();if(t instanceof FormData){l.send(t)}else{l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");l.send(httpBuildQuery(t))}}else{var h=appendUrlParams(e,{__random:Math.random()},t);l.open("GET",h,true);u();l.send(null)}}}function reportFrontendError(e){try{if(typeof window["HuoNiu"]!=="object")return;if(typeof window["HuoNiu"]["errorReportUrl"]!=="string")return;for(var t in e){var n=e[t];if(n&&typeof n==="object"){e[t]=JSON.stringify(n)}}jQuery.post(window["HuoNiu"]["errorReportUrl"],e)}catch(r){}}var _requestParams=false;function getRequestParams(e){if(_requestParams===false){_requestParams={};var t=location.search.substr(1).split("&");for(var n=0;n<t.length;n++){var r=t[n];if(r.length>0){var a=r.indexOf("=");var o,i;if(a===-1){o=r;i=""}else{o=r.substr(0,a);i=r.substr(a+1)}_requestParams[o]=decodeURIComponent(i)}}}if(e!==undefined){return _requestParams[e]}else{return _requestParams}}var clientShare={_huoniuApp:null,_QBShare:null,_QBShareOption:null,_wechatVar:null,_resultFuncList:{success:[],cancel:[],fail:[]},_callResultFunc:function(e,t,n){$("#loading").hide();if(e==="success")alert("分享成功!");else if(e==="fail")alert("分享失败:"+n);var r=this._resultFuncList[e];for(var a=0;a<=r.length;a++){if(typeof r[a]==="function"){r[a].call(null,t,n)}}},_configQBShare:function(e,t,n,r){this._QBShare=window["browser"]["app"]["share"];this._QBShareOption={url:t,title:e,description:n,img_url:r,img_title:"",cus_txt:e}},_configWechatShare:function(e,t,n,r){var a=this;var o=function(o){return{title:e||"",link:t||"",desc:n||"",imgUrl:r||"",type:"link",dataUrl:"",success:function(){a._callResultFunc("success",o)},cancel:function(){a._callResultFunc("cancel",o)}}};a._wechatVar.ready(function(){a._wechatVar.onMenuShareTimeline(o("wechat_moments"));a._wechatVar.onMenuShareAppMessage(o("wechat_friend"));a._wechatVar.onMenuShareQQ(o("qq_mobile"));a._wechatVar.onMenuShareQZone(o("qq_zone"));a._wechatVar.onMenuShareWeibo(o("other"))})},_configAppShare:function(e,t,n,r,a){var o=this;if(typeof window["HuoNiuApp"]!=="object"){setTimeout(function(){o._configAppShare(e,t,n,r,a)},100);return}this._huoniuApp=window["HuoNiuApp"];var i=parseInt(Math.random()*1e8);var s="share_success_"+i;window[s]=function(e){o._callResultFunc("success",e)};var c="share_cancel_"+i;window[c]=function(e){o._callResultFunc("cancel",e)};var l="share_fail_"+i;window[l]=function(e,t){o._callResultFunc("fail",e,t)};var u={title:e||"",link:t||"",desc:n||"",image:r||"",identity:a||"",onSuccess:s,onCancel:c,onFail:l,encodeText:false};if(typeof this._huoniuApp.getAndroidSdkVersion==="function"){if(this._huoniuApp.getAndroidSdkVersion()<19){u.title=encodeURIComponent(u.title);u.desc=encodeURIComponent(u.desc);u.encodeText=true}}this._huoniuApp.configShareParams(JSON.stringify(u))},initWechatConfig:function(e){var t=this;if(typeof window["wx"]==="object"&&navigator.userAgent.indexOf("MicroMessenger")>1){t._wechatVar=window["wx"];t._wechatVar.config(e);t._wechatVar.error(function(t){reportFrontendError({location:location.href,error:t["errMsg"]+"",appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature});if((t["errMsg"]+"").indexOf("signature")>1){setTimeout(function(){window.location.reload(true)},200)}})}},config:function(e,t,n,r,a){var o=navigator.userAgent;if(o.indexOf("HuoNiuApp")>1){this._configAppShare(e,t,n,r,a)}else if(this._wechatVar&&o.indexOf("MicroMessenger")>1){this._configWechatShare(e,t,n,r)}else if(o.indexOf("MQQBrowser")>1&&o.indexOf("MicroMessenger")<1){this._configQBShare(e,t,n,r)}if(!checkCrossDomain(t)){history.replaceState("HuoNiu",document.title,t);document.title=e}$("[action=open-client-share]").on("click",function(){var e=$(this).data("platform");clientShare.openPlatform(e)});$("[action=client-share-dialog]").on("click",function(){clientShare.openPlatform()})},addSuccessEvent:function(e){if(typeof e==="function"){this._resultFuncList.success.push(e)}},addFailEvent:function(e){if(typeof e==="function"){this._resultFuncList.fail.push(e)}},addCancelEvent:function(e){if(typeof e==="function"){this._resultFuncList.cancel.push(e)}},openPlatform:function(e){var t=function(){$("#loading").show();setTimeout(function(){$("#loading").hide()},3e3)};if(this._huoniuApp){if(e){t();this._huoniuApp.openSharePlatform(e);$("#client-share-dialog").addClass("hide")}else{$("#client-share-dialog").toggleClass("hide")}}else if(this._QBShare&&this._QBShareOption){var n=this;var r={wechat_moments:8,wechat_friend:1,qq_mobile:4,qq_zone:3,sina_weibo:11};var a={8:"wechat_moments",1:"wechat_friend",4:"qq_mobile",3:"qq_zone",11:"sina_weibo"};if(e&&r[e]){t();this._QBShareOption.to_app=r[e]}else{delete this._QBShareOption.to_app}this._QBShare(this._QBShareOption,function(t,r){if(typeof t==="object"){var o,i,s,c;if(navigator.userAgent.match(/iPhone.+Mac OS X/)){c=t["code"];o=c==1?"success":c==-1?"cancel":"fail";i=e||"other";s=c==1||c==-1?"":r||"未知错误"}else{c=t["result"];o=c==0?"success":c==-1?"cancel":"fail";i=a[t["app"]]||e||"other";s=c==0||c==-1?"":r||"未知错误"}setTimeout(function(){n._callResultFunc(o,i,s)},100)}})}}};(function(e){e.fn.sendMobileVerifyCode=function(t){var n=e(this);n.on("click",function(){if(n.hasClass("color-gray"))return;n.addClass("color-gray");var e=t["params"]();var r=t["url"]||n.data("url");asyncSendAction(r,e,true,true,function(e){if(e.code!==0){n.removeClass("color-gray");if(typeof t["failure"]==="function"){t["failure"](e.msg)}else{alert(e.msg)}}else{var r=60;var a=setInterval(function(){r=r-1;if(r===0){clearInterval(a);n.removeClass("color-gray");n.text("重新发送")}else{n.text("重发("+r+")")}},1e3);typeof t["success"]==="function"&&t["success"](e.msg)}})})};window.provinceAndCity=function(t,n,r,a){var o=e("[name=provinceName]",t);var i=e("[name=provinceId]",t);var s=e("select",t);var c=e("[name=cityName]",n);var l=e("[name=cityId]",n);var u=e("select",n);if(r){var f=e("[name=districtName]",r);var h=e("[name=districtId]",r);var d=e("select",r)}var p='<option value="NaN">-请选择地区-</option>';var m='<option value="NaN">正在加载地区...</option>';s.change(function(){var e=s.children(":checked");var t=e.text(),n=e.attr("value");if(n!=="NaN"){o.val(t);i.val(n);u.html(m);if(r)d.html(p);asyncSendAction(a+"/"+n,null,false,false,function(e){if(e.code!==0)return alert("查询城市数据出错!");u.html(p+e.html)})}else{o.val("");i.val("");u.html(p);if(r)d.html(p)}});u.change(function(){var e=u.children(":checked");var t=e.text(),n=e.attr("value");if(n!=="NaN"){c.val(t);l.val(n);if(r){d.html(m);asyncSendAction(a+"/"+n,null,false,false,function(e){if(e.code!==0)return alert("查询城市数据出错!");d.html(p+e.html)})}}else{c.val("");l.val("");if(r){d.html(p)}}});if(r){d.change(function(){var e=d.children(":checked");var t=e.text(),n=e.attr("value");if(n==="NaN")t=n="";f.val(t);h.val(n)})}}})(jQuery);$(document).ready(function(){$("#subscribe-ignore").on("click",function(){$("#subscribe-tip").remove();var e=new Date;e.setDate(e.getDate()+1);document.cookie="ignore_subscribe_tip=1; path=/; expires="+e.toGMTString()});$("#go-back").on("click",function(){history.back()});$("body>.content").css("minHeight",document.documentElement.clientHeight+"px")});